<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">

    <title>åˆ‡ç‰‡å¼è½®æ’­å›¾</title>
    <link rel="stylesheet" href="./102.css">
</head>

<body>
    <div class="container">
        <div class="big-box"></div>
        <div class="small-box">
            <div class="img"><img src="../images/op/1.jpg" alt=""></div>
            <div class="img"><img src="../images/op/2.jpg" alt=""></div>
            <div class="img"><img src="../images/op/3.jpg" alt=""></div>
            <div class="img"><img src="../images/op/4.jpg" alt=""></div>
            <div class="img"><img src="../images/op/5.jpg" alt=""></div>
        </div>
    </div>
    <script>
        // è·å–éœ€è¦æ“ä½œçš„å…ƒç´ 
        // å·¦è¾¹å¤§å›¾
        let big_box=document.querySelector(".big-box");
        // å›¾ç‰‡é›†åˆ
        let imgs=document.getElementsByClassName("img");
        // å®šæ—¶å™?
        let timer=null;
        // å½“å‰å›¾ç‰‡ä¸‹æ ‡
        let index=0;

        // é‡ç½®å‡½æ•°
        function reset(){
            for(let i=0;i<imgs.length;i++){
                imgs[i].className="img";
            }
        }
        // é€‰ä¸­å‡½æ•°
        function selected(){
            reset();
            imgs[index].className="img active";
        }
        // è½®æ’­å‡½æ•°
        function play(){
            timer=setInterval(function(){
                selected();
                index++;
                big_box.style.backgroundImage="url(../images/op/"+index+".jpg)";
                if(index==5){
                    index=0;
                }
            },1500);
        }
        // å¾ªç¯ç»‘å®šæ¯ä¸ªå°å›¾ç‰‡çš„é¼ æ ‡ç§»åŠ¨äº‹ä»¶
        for(let i=0;i<imgs.length;i++){
            // é¼ æ ‡ç§»åŠ¨åˆ°å°å›¾ç‰‡ä¸Šæ—¶è§¦å‘
            imgs[i].onmousemove=function(){
                // å·¦è¾¹å¤§å›¾å˜æˆå½“å‰çš„å°å›¾ç‰‡
                big_box.style.backgroundImage="url(../images/op/"+(i+1)+".jpg)";
                // æ‰§è¡Œé‡ç½®å‡½æ•°å¹¶å…³é—­å®šæ—¶å™¨
                reset();
                clearInterval(timer);
                // æ›´æ–°å½“å‰å›¾ç‰‡ä¸‹æ ‡å¹¶æ‰§è¡Œè½®æ’?
                index=i+1;
                if(index==5){
                    index=0;
                }
                play();
            }
        }
        // æ‰§è¡Œè½®æ’­
        play();
    </script>
</body>

</html>